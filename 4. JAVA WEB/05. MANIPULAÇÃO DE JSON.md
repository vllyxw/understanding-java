MANIPULAÇÃO COM JSON

Biblioteca GSON - google

Importar = import com.google.gson.Gson

CONVERSÃO DE JAVA PARA JSON

public static String PessoaParaJson (Pessoa p) {
	Gson gson = new Gson();
	String j = gson.toJson(p);
	return j;
}

CONVERSÃO DE JSON PARA JAVA

public static Pessoa JsonParaPessoa (String json) {
	Gson gson = new Gson();
	Pessoa p = gson.fromJson(json, Pessoa.class);
	return p;
}


EXEMPLO CONVERSÃO DE JAVA PARA JSON

Gson gson = new Gson();

List<Pessoa> lp = new ArrayList<Pessoa>();
lp.add(new Pessoa("Joaquina",40));
lp.add(new Pessoa("Junior",35));
lp.add(new Pessoa("Marcos",40));

String json = gson.toJson(lp);

PrintWriter pw = response.getWriter();
pw.append(json);


EXEMPLO CONVERSÃO DE JSON PARA JAVA

Gson gson = new Gson();

List<Pessoa> lp = new ArrayList<Pessoa>();

String json = "[{\"nome\":\"Joana\",\"idade\":40},[{\"nome\":\"Marcelo\",\"idade\":30}];

Pessoa ap[] = gson.fromJson(json, Pessoa[].class);
lp = Arrays.asList(ap);

PrintWriter pw = response.getWriter();
for(Pessoa p : lp)
	pw.append("NOME: "+ p.getNome() + " IDADE: " + p.getIdade());
